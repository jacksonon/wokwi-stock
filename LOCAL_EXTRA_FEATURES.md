# 后续可扩展功能清单（本地维护）

用于记录本项目后续可扩展方向，按优先级排序（P0 > P1 > P2）。

## P0（优先落地）

1. **多股轮播页**
   - 价值：一屏轮流看多支标的，降低手动切换成本。
   - 实现要点：`AppConfig` 增加股票列表；feature 层按定时轮播并复用现有 provider 拉取。
   - 验收标准：配置 3 支股票后，页面每 8 秒自动切换且显示对应行情无错位。

2. **按键切换功能页/股票**
   - 价值：离线设备无需串口即可交互，提升可用性。
   - 实现要点：接入 GPIO 按键中断/消抖；kernel 增加页面索引与手动切换状态。
   - 验收标准：短按可切换到下一页（或下一只股票），连续 20 次操作无误触。

3. **指数总览页（上证/深证/创业板）**
   - 价值：先看大盘再看个股，决策上下文更完整。
   - 实现要点：新增指数代码配置与 `IndexFeature`；复用现有行情解析结构体。
   - 验收标准：可同时显示 3 个指数的现价与涨跌幅，刷新节奏与个股页一致。

4. **本地缓存与断网回显**
   - 价值：网络波动时仍可展示最近一次有效数据。
   - 实现要点：保存最近 N 条行情到 NVS/内存环形缓冲；网络失败时读取缓存并标注“缓存”。
   - 验收标准：断网后 1 秒内回显最近数据并显示缓存标记，恢复网络后自动切回实时。

5. **阈值告警（涨跌幅/价格）**
   - 价值：关键价位触发提醒，减少盯屏时间。
   - 实现要点：配置告警规则；触发时蜂鸣器/LED/屏幕提示，支持冷却时间防抖。
   - 验收标准：达到阈值时 2 秒内触发一次告警，冷却期内不重复轰炸。

## P1（增强体验）

6. **夜间模式（低刷新 + 暗色风格）**
   - 价值：夜间阅读更舒适并降低频繁刷屏。
   - 实现要点：提供日/夜两套 UI 参数（字体、反色、刷新周期）；支持定时自动切换。
   - 验收标准：进入夜间模式后刷新周期变更生效，视觉主题明显区分且可手动切回。

7. **行情微图（近 7~15 日趋势）**
   - 价值：在设备端快速判断趋势，不依赖手机。
   - 实现要点：新增轻量 K 线/折线数据接口与简化绘图组件，控制内存占用。
   - 验收标准：可渲染最近至少 7 个交易日趋势图，页面刷新不崩溃且更新稳定。

8. **刷新策略自适应（开盘/收盘/节假日）**
   - 价值：降低无效请求，提升稳定性与功耗表现。
   - 实现要点：根据交易时段动态调整拉取间隔；非交易时段降频并定时唤醒。
   - 验收标准：非交易时段请求频率下降至少 70%，交易时段仍保持实时体验。

## P2（运维与扩展）

9. **远程配置同步（股票池/阈值）**
   - 价值：无需重新烧录即可更新配置，方便长期维护。
   - 实现要点：增加轻量配置拉取接口（JSON）与版本号校验，失败时回退本地配置。
   - 验收标准：更新远端配置后 1 个拉取周期内生效，异常配置不会导致设备卡死。

10. **多数据源容灾（腾讯主源 + 备用源）**
    - 价值：单一接口异常时自动切换，保证可用性。
    - 实现要点：实现 provider 优先级与失败重试策略，统一字段映射。
    - 验收标准：主源连续失败后可自动切换备用源，恢复后可回切且数据字段一致。

